# Maintainer: Ace! _SL/S <acesls@protonmail.com>
pkgname="slssteam"
pkgver=20251116153847
pkgrel=1
pkgdesc="Steamclient Mod"
arch=("i686" "x86_64")
url="https://github.com/AceSLS/SLSsteam"
license=("AGPL-3.0-only")

depends=("steam"
		"lib32-openssl"
		"lib32-glibc"
		"lib32-gcc-libs")

optdepends=("steam-native")

provides=("slssteam")
conflicts=("slssteam-git")

source=("https://github.com/AceSLS/SLSsteam/archive/refs/tags/$pkgver.tar.gz")
makedepends=("gcc")

sha256sums=('2d52bf683f05b5045bee181f9d47225269f40341c2ed8abb3bdb3f52f1f1c8c9')
validpgpkeys=("63AB8F4BF8A62EEEB8D8C7584410F8CF7129B2D6")

build() {
	cd "$srcdir/SLSsteam-$pkgver"
	make
}

package() {
	cd "$pkgdir"

	install -D "$srcdir/SLSsteam-$pkgver/bin/SLSsteam.so" "$pkgdir/usr/lib32/libSLSsteam.so"
	install -D "$srcdir/SLSsteam-$pkgver/res/SLSsteam.desktop" "$pkgdir/usr/share/applications/SLSsteam.desktop"
	install -D "$srcdir/SLSsteam-$pkgver/res/SLSsteam-native.desktop" "$pkgdir/usr/share/applications/SLSsteam-native.desktop"
	install -D "$srcdir/SLSsteam-$pkgver/res/logo.png" "$pkgdir/usr/share/pixmaps/SLSsteam.png"
}
